<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="description" content="Track your co-op job applications efficiently" />
  <link rel="icon" href="favicon.ico" />
  <link rel="apple-touch-icon" href="icon-192.png" />
  <link rel="manifest" href="manifest.json" />
  <title>Co-op Application Tracker</title>
  
  <style>
    /* Base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      min-height: 100vh;
      background: linear-gradient(to bottom right, #0f172a, #1e293b);
      color: #f1f5f9;
      padding: 20px;
    }
    
    /* Header styles */
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .main-title {
      font-size: 2.5rem;
      font-weight: bold;
      background: linear-gradient(to right, #38bdf8, #0ea5e9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }
    
    .subtitle {
      color: #94a3b8;
      font-size: 1.125rem;
    }
    
    /* Controls area */
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      background-color: rgba(30, 41, 59, 0.7);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    /* Buttons */
    button {
      cursor: pointer;
      border: none;
      border-radius: 6px;
      padding: 10px 16px;
      font-weight: 600;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background-color: #0ea5e9;
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #0284c7;
      transform: translateY(-2px);
    }
    
    .btn-success {
      background-color: #10b981;
      color: white;
    }
    
    .btn-success:hover {
      background-color: #059669;
    }
    
    .btn-secondary {
      background-color: #8b5cf6;
      color: white;
    }
    
    .btn-secondary:hover {
      background-color: #7c3aed;
    }
    
    /* Table styles */
    .table-container {
      background-color: rgba(30, 41, 59, 0.7);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th {
      background-color: rgba(51, 65, 85, 0.5);
      color: #38bdf8;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 12px;
      text-align: left;
    }
    
    td {
      padding: 12px;
      border-bottom: 1px solid #334155;
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background-color: rgba(51, 65, 85, 0.3);
    }
    
    /* Status badge */
    .status-badge {
      display: inline-block;
      border-radius: 9999px;
      padding: 4px 8px;
      font-size: 0.75rem;
      font-weight: 600;
      color: white;
    }
    
    .status-Wishlist { background-color: #64748b; }
    .status-Applied { background-color: #3b82f6; }
    .status-Assessment { background-color: #6366f1; }
    .status-Interview-Scheduled { background-color: #a855f7; }
    .status-Interviewed { background-color: #ec4899; }
    .status-Offer-Extended { background-color: #22c55e; }
    .status-Offer-Accepted { background-color: #14b8a6; }
    .status-Offer-Declined { background-color: #ca8a04; }
    .status-Rejected { background-color: #ef4444; }
    .status-Withdrawn { background-color: #f97316; }
    
    /* Action buttons */
    .action-btn {
      background: none;
      padding: 5px;
      border-radius: 4px;
      margin-right: 5px;
    }
    
    .action-view {
      color: #38bdf8;
    }
    
    .action-view:hover {
      background-color: rgba(56, 189, 248, 0.1);
    }
    
    .action-edit {
      color: #facc15;
    }
    
    .action-edit:hover {
      background-color: rgba(250, 204, 21, 0.1);
    }
    
    .action-delete {
      color: #f87171;
    }
    
    .action-delete:hover {
      background-color: rgba(248, 113, 113, 0.1);
    }
    
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
      z-index: 1000;
      padding: 20px;
      overflow-y: auto;
    }
    
    .modal-content {
      background-color: #1e293b;
      border-radius: 10px;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      position: relative;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      border: 1px solid #334155;
    }
    
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      background: none;
      border: none;
      color: #94a3b8;
      cursor: pointer;
    }
    
    .close-btn:hover {
      color: white;
    }
    
    .modal-title {
      color: #38bdf8;
      font-size: 1.5rem;
      margin-bottom: 20px;
    }
    
    /* Form styles */
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      color: #94a3b8;
      margin-bottom: 5px;
      font-size: 0.875rem;
    }
    
    input[type="text"],
    input[type="email"],
    input[type="url"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 8px 12px;
      border-radius: 6px;
      background-color: #334155;
      border: 1px solid #475569;
      color: #f1f5f9;
    }
    
    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #38bdf8;
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.25);
    }
    
    .form-row {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .form-col {
      flex: 1;
    }
    
    .form-footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      background-color: rgba(30, 41, 59, 0.5);
      border-radius: 10px;
    }
    
    .empty-icon {
      font-size: 2rem;
      color: #64748b;
      margin-bottom: 10px;
    }
    
    .empty-title {
      font-size: 1.5rem;
      margin-bottom: 8px;
      color: #e2e8f0;
    }
    
    .empty-message {
      color: #94a3b8;
    }
    
    /* Footer */
    footer {
      text-align: center;
      color: #64748b;
      margin-top: 30px;
      font-size: 0.875rem;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
        gap: 15px;
      }
      
      .main-title {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1 class="main-title">Co-op Application Tracker</h1>
    <p class="subtitle">Manage your job applications efficiently.</p>
  </header>
  
  <div class="controls">
    <button id="addBtn" class="btn-primary">+ Add New Application</button>
    <button id="exportBtn" class="btn-success">Export Data</button>
    <label class="btn-secondary" style="cursor: pointer;">
      Import Data
      <input type="file" id="importBtn" style="display: none;" accept=".json">
    </label>
  </div>
  
  <div id="tableContainer" class="table-container">
    <table>
      <thead>
        <tr>
          <th>Company</th>
          <th>Role</th>
          <th>Date Applied</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="applicationsList">
        <!-- Applications will be inserted here by JavaScript -->
      </tbody>
    </table>
  </div>
  
  <div id="emptyState" class="empty-state" style="display: none;">
    <div class="empty-icon">üìã</div>
    <h2 class="empty-title">No Applications Yet!</h2>
    <p class="empty-message">Click "Add New Application" to get started.</p>
  </div>
  
  <!-- Add/Edit Application Modal -->
  <div id="applicationModal" class="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeModal">&times;</button>
      <h2 class="modal-title" id="modalTitle">Add New Application</h2>
      
      <form id="applicationForm">
        <input type="hidden" id="applicationId">
        
        <div class="form-row">
          <div class="form-col">
            <div class="form-group">
              <label for="companyName">Company Name <span style="color: #f87171;">*</span></label>
              <input type="text" id="companyName" required>
            </div>
          </div>
          <div class="form-col">
            <div class="form-group">
              <label for="role">Role / Position <span style="color: #f87171;">*</span></label>
              <input type="text" id="role" required>
            </div>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-col">
            <div class="form-group">
              <label for="dateApplied">Date Applied <span style="color: #f87171;">*</span></label>
              <input type="date" id="dateApplied" required>
            </div>
          </div>
          <div class="form-col">
            <div class="form-group">
              <label for="status">Status</label>
              <select id="status">
                <option value="Wishlist">Wishlist / To Apply</option>
                <option value="Applied" selected>Applied</option>
                <option value="Assessment">Assessment</option>
                <option value="Interview-Scheduled">Interview Scheduled</option>
                <option value="Interviewed">Interviewed</option>
                <option value="Offer-Extended">Offer Extended</option>
                <option value="Offer-Accepted">Offer Accepted</option>
                <option value="Offer-Declined">Offer Declined</option>
                <option value="Rejected">Rejected</option>
                <option value="Withdrawn">Withdrawn</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-col">
            <div class="form-group">
              <label for="resumeVersion">Resume Version</label>
              <input type="text" id="resumeVersion" placeholder="e.g., v2.1_coop">
            </div>
          </div>
          <div class="form-col">
            <div class="form-group">
              <label for="emailId">Email ID Used</label>
              <input type="email" id="emailId" placeholder="your.email@example.com">
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="applicationLink">Application Link / Portal</label>
          <input type="url" id="applicationLink" placeholder="https://careers.example.com/job/123">
        </div>
        
        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea id="notes" rows="4" placeholder="e.g., Contact person, specific requirements, interview prep points..."></textarea>
        </div>
        
        <div class="form-footer">
          <button type="button" id="cancelBtn" class="btn-secondary">Cancel</button>
          <button type="submit" class="btn-primary">Save Application</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- View Application Details Modal -->
  <div id="viewModal" class="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeViewModal">&times;</button>
      <h2 class="modal-title">Application Details</h2>
      
      <div id="applicationDetails">
        <!-- Details will be filled by JavaScript -->
      </div>
      
      <div class="form-footer">
        <button type="button" id="closeViewBtn" class="btn-secondary">Close</button>
      </div>
    </div>
  </div>
  
  <footer>
    <p>&copy; <span id="currentYear"></span> Grad Student Co-op Tracker. Keep Pushing!</p>
  </footer>
  
  <!-- Simple Vanilla JavaScript for the app -->
  <script>
    // Initialize the application when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Elements
      const addBtn = document.getElementById('addBtn');
      const exportBtn = document.getElementById('exportBtn');
      const importBtn = document.getElementById('importBtn');
      const applicationsList = document.getElementById('applicationsList');
      const emptyState = document.getElementById('emptyState');
      const tableContainer = document.getElementById('tableContainer');
      
      // Modal elements
      const applicationModal = document.getElementById('applicationModal');
      const viewModal = document.getElementById('viewModal');
      const closeModal = document.getElementById('closeModal');
      const closeViewModal = document.getElementById('closeViewModal');
      const cancelBtn = document.getElementById('cancelBtn');
      const closeViewBtn = document.getElementById('closeViewBtn');
      const applicationForm = document.getElementById('applicationForm');
      const modalTitle = document.getElementById('modalTitle');
      
      // Form elements
      const applicationId = document.getElementById('applicationId');
      const companyName = document.getElementById('companyName');
      const role = document.getElementById('role');
      const dateApplied = document.getElementById('dateApplied');
      const status = document.getElementById('status');
      const resumeVersion = document.getElementById('resumeVersion');
      const emailId = document.getElementById('emailId');
      const applicationLink = document.getElementById('applicationLink');
      const notes = document.getElementById('notes');
      
      // Set current year for footer
      document.getElementById('currentYear').textContent = new Date().getFullYear();
      
      // Applications array - load from localStorage or initialize empty
      let applications = JSON.parse(localStorage.getItem('jobApplications')) || [];
      
      // Initial render
      renderApplications();
      
      // Event Listeners
      addBtn.addEventListener('click', showAddModal);
      closeModal.addEventListener('click', closeApplicationModal);
      cancelBtn.addEventListener('click', closeApplicationModal);
      closeViewModal.addEventListener('click', closeViewDetailsModal);
      closeViewBtn.addEventListener('click', closeViewDetailsModal);
      applicationForm.addEventListener('submit', saveApplication);
      exportBtn.addEventListener('click', exportData);
      importBtn.addEventListener('change', importData);
      
      // Set today's date as default in the date field
      dateApplied.value = new Date().toISOString().split('T')[0];
      
      // Close modal when clicking outside of it
      window.addEventListener('click', function(event) {
        if (event.target === applicationModal) {
          closeApplicationModal();
        }
        if (event.target === viewModal) {
          closeViewDetailsModal();
        }
      });
      
      // Show Add Application Modal
      function showAddModal() {
        clearForm();
        modalTitle.textContent = 'Add New Application';
        applicationId.value = '';
        applicationModal.style.display = 'block';
      }
      
      // Show Edit Application Modal
      function showEditModal(app) {
        clearForm();
        
        modalTitle.textContent = 'Edit Application';
        applicationId.value = app.id;
        companyName.value = app.companyName;
        role.value = app.role;
        dateApplied.value = app.dateApplied;
        status.value = app.status;
        resumeVersion.value = app.resumeVersion || '';
        emailId.value = app.emailId || '';
        applicationLink.value = app.applicationLink || '';
        notes.value = app.notes || '';
        
        applicationModal.style.display = 'block';
      }
      
      // Show View Application Details Modal
      function showViewModal(app) {
        const statusLabel = getStatusLabel(app.status);
        const statusClass = `status-${app.status}`;
        
        let detailsHTML = `
          <div style="margin-bottom: 20px;">
            <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Company Name</p>
            <p style="color: #f1f5f9;">${app.companyName}</p>
          </div>
          <div style="margin-bottom: 20px;">
            <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Role / Position</p>
            <p style="color: #f1f5f9;">${app.role}</p>
          </div>
          <div style="margin-bottom: 20px;">
            <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Date Applied</p>
            <p style="color: #f1f5f9;">${formatDate(app.dateApplied)}</p>
          </div>
          <div style="margin-bottom: 20px;">
            <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Status</p>
            <p><span class="status-badge ${statusClass}">${statusLabel}</span></p>
          </div>
        `;
        
        if (app.resumeVersion) {
          detailsHTML += `
            <div style="margin-bottom: 20px;">
              <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Resume Version</p>
              <p style="color: #f1f5f9;">${app.resumeVersion}</p>
            </div>
          `;
        }
        
        if (app.emailId) {
          detailsHTML += `
            <div style="margin-bottom: 20px;">
              <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Email ID Used</p>
              <p style="color: #f1f5f9;">${app.emailId}</p>
            </div>
          `;
        }
        
        if (app.applicationLink) {
          detailsHTML += `
            <div style="margin-bottom: 20px;">
              <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Application Link</p>
              <p><a href="${app.applicationLink}" target="_blank" style="color: #38bdf8; text-decoration: underline;">${app.applicationLink}</a></p>
            </div>
          `;
        }
        
        if (app.notes) {
          detailsHTML += `
            <div style="margin-bottom: 20px;">
              <p style="font-weight: bold; margin-bottom: 5px; color: #e2e8f0;">Notes</p>
              <p style="color: #f1f5f9; background-color: rgba(51, 65, 85, 0.5); padding: 10px; border-radius: 6px; white-space: pre-wrap;">${app.notes}</p>
            </div>
          `;
        }
        
        document.getElementById('applicationDetails').innerHTML = detailsHTML;
        viewModal.style.display = 'block';
      }
      
      // Close Add/Edit Modal
      function closeApplicationModal() {
        applicationModal.style.display = 'none';
      }
      
      // Close View Modal
      function closeViewDetailsModal() {
        viewModal.style.display = 'none';
      }
      
      // Clear form fields
      function clearForm() {
        applicationForm.reset();
        dateApplied.value = new Date().toISOString().split('T')[0];
      }
      
      // Save application (add new or update existing)
      function saveApplication(e) {
        e.preventDefault();
        
        const formData = {
          companyName: companyName.value.trim(),
          role: role.value.trim(),
          dateApplied: dateApplied.value,
          status: status.value,
          resumeVersion: resumeVersion.value.trim(),
          emailId: emailId.value.trim(),
          applicationLink: applicationLink.value.trim(),
          notes: notes.value.trim()
        };
        
        // Validate required fields
        if (!formData.companyName || !formData.role || !formData.dateApplied) {
          alert('Company Name, Role, and Date Applied are required fields.');
          return;
        }
        
        // Check if editing or adding new
        const editId = applicationId.value;
        
        if (editId) {
          // Edit existing
          applications = applications.map(app => {
            if (app.id === editId) {
              return { ...app, ...formData };
            }
            return app;
          });
        } else {
          // Add new
          const newApp = {
            ...formData,
            id: Date.now().toString() + Math.random().toString(36).substring(2, 5)
          };
          
          applications.push(newApp);
        }
        
        // Save to localStorage and update UI
        localStorage.setItem('jobApplications', JSON.stringify(applications));
        renderApplications();
        closeApplicationModal();
      }
      
      // Delete application
      function deleteApplication(id) {
        if (confirm('Are you sure you want to delete this application?')) {
          applications = applications.filter(app => app.id !== id);
          localStorage.setItem('jobApplications', JSON.stringify(applications));
          renderApplications();
        }
      }
      
      // Render applications list
      function renderApplications() {
        if (applications.length === 0) {
          // Show empty state
          emptyState.style.display = 'block';
          tableContainer.style.display = 'none';
        } else {
          // Show table with applications
          emptyState.style.display = 'none';
          tableContainer.style.display = 'block';
          
          // Clear current list
          applicationsList.innerHTML = '';
          
          // Sort applications by date applied (newest first)
          const sortedApps = [...applications].sort((a, b) => {
            return new Date(b.dateApplied) - new Date(a.dateApplied);
          });
          
          // Add each application to the table
          sortedApps.forEach(app => {
            const row = document.createElement('tr');
            
            const statusLabel = getStatusLabel(app.status);
            const statusClass = `status-${app.status}`;
            
            row.innerHTML = `
              <td>${app.companyName}</td>
              <td>${app.role}</td>
              <td>${formatDate(app.dateApplied)}</td>
              <td><span class="status-badge ${statusClass}">${statusLabel}</span></td>
              <td>
                <button class="action-btn action-view" title="View Details" data-id="${app.id}">üëÅÔ∏è</button>
                <button class="action-btn action-edit" title="Edit" data-id="${app.id}">‚úèÔ∏è</button>
                <button class="action-btn action-delete" title="Delete" data-id="${app.id}">üóëÔ∏è</button>
              </td>
            `;
            
            applicationsList.appendChild(row);
          });
          
          // Add event listeners to action buttons
          document.querySelectorAll('.action-view').forEach(btn => {
            btn.addEventListener('click', function() {
              const id = this.dataset.id;
              const app = applications.find(app => app.id === id);
              if (app) showViewModal(app);
            });
          });
          
          document.querySelectorAll('.action-edit').forEach(btn => {
            btn.addEventListener('click', function() {
              const id = this.dataset.id;
              const app = applications.find(app => app.id === id);
              if (app) showEditModal(app);
            });
          });
          
          document.querySelectorAll('.action-delete').forEach(btn => {
            btn.addEventListener('click', function() {
              const id = this.dataset.id;
              deleteApplication(id);
            });
          });
        }
      }
      
      // Export data
      function exportData() {
        if (applications.length === 0) {
          alert('No applications to export!');
          return;
        }
        
        const dataStr = JSON.stringify(applications, null, 2);
        const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);
        
        const exportFileName = 'coop-applications-' + new Date().toISOString().split('T')[0] + '.json';
        
        const linkElement = document.createElement('a');
        linkElement.setAttribute('href', dataUri);
        linkElement.setAttribute('download', exportFileName);
        linkElement.style.display = 'none';
        document.body.appendChild(linkElement);
        linkElement.click();
        document.body.removeChild(linkElement);
      }
      
      // Import data
      function importData(event) {
        const file = event.target.files[0];
        
        if (!file) return;
        
        const reader = new FileReader();
        
        reader.onload = function(e) {
          try {
            const importedData = JSON.parse(e.target.result);
            
            if (Array.isArray(importedData) && importedData.length > 0) {
              // Confirm before overwriting existing data
              if (applications.length > 0) {
                if (!confirm('This will replace your existing applications. Continue?')) {
                  return;
                }
              }
              
              applications = importedData;
              localStorage.setItem('jobApplications', JSON.stringify(applications));
              renderApplications();
              alert('Applications imported successfully!');
            } else {
              alert('Invalid data format!');
            }
          } catch (error) {
            alert('Error importing file: ' + error.message);
          }
        };
        
        reader.onerror = function() {
          alert('Error reading file!');
        };
        
        reader.readAsText(file);
      }
      
      // Helper function to format date
      function formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString(undefined, options);
      }
      
      // Get status label
      function getStatusLabel(statusValue) {
        const statusMap = {
          'Wishlist': 'Wishlist / To Apply',
          'Applied': 'Applied',
          'Assessment': 'Assessment',
          'Interview-Scheduled': 'Interview Scheduled',
          'Interviewed': 'Interviewed',
          'Offer-Extended': 'Offer Extended',
          'Offer-Accepted': 'Offer Accepted',
          'Offer-Declined': 'Offer Declined',
          'Rejected': 'Rejected',
          'Withdrawn': 'Withdrawn'
        };
        
        return statusMap[statusValue] || statusValue;
      }
    });
  </script>
</body>
</html>
